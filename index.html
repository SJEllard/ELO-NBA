<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://sjellard.github.io/ELO-NBA/css/style.css">

    <title>NBA Elo System</title>
</head>
<header>
    <div class="d-flex font-weight-bold justify-content-center mt-5 mb-5" >
        <h1 class="header" style="margin-top:20px; margin-bottom:20px">
            NBA Elo System
        </h1>

    </div>
</header>
<body>
<div class='container'>
    <hr>
    <div class="card-deck" style="margin-top:50px">
        <div class='col-md-10 mx-auto mb-5'>

            <div class='card-body'>
                <p>
                    NBA Elo System is an inferential rating system that calculates the 
                    relative strength of NBA teams. Elo rating systems were 
                    originally used as an improved chess rating system. Since then, they have also
                    been used in baseball, basketball, and competitive video games such as 
                    World of Warcraft. 
                    <br><br>
                    A teams strength is represented by their rating (the higher, the better). 
                    After every game, the winner takes points from the loser. 
                    The number of points won (or lost) is determined by the difference in ratings. 
                    For example, when a high rated team beats a low rated team they will only win a few points.
                    But, when a low rated team upsets a high rated team they win many points.  
                    <br><br>
                    <small>This project has been significantly inspired by Nate Silver’s statistical NBA projections. 
                    To see more of Nate Silver’s work visit <a href="https://projects.fivethirtyeight.com/complete-history-of-the-nba/#raptors" target="_blank">The Complete History of the NBA</a>
                    and <a href="https://fivethirtyeight.com/features/how-we-calculate-nba-elo-ratings/" target="_blank">How We Calculate NBA Elo Ratings</a>.
                    To learn more about Elo rating systems visit the <a href="https://en.wikipedia.org/wiki/Elo_rating_system" target="_blank">Elo Wikipedia page</a>.</small>
                </p>
            </div>
    
        </div>
    </div>
</div>

<div class='container'>
    <div class='card-deck'>
        <div class='col-md-10 mx-auto mb-5'>

            <div class='card-body'>
                <h2>2018-19 NBA Elo Analysis</h2>     
                    <br>   
                <p> 
                    Before digging into the algorithm lets look at some of the results. 
                    Here we have a graph of all 30 NBA teams' Elo ratings after the 2018-19 regular season:
                </p>

                <figure class="figure">
                        <img src="https://sjellard.github.io/ELO-NBA/images/regseason_bar.PNG" class="figure-img img-fluid rounded" alt="2018-19 NBA Regular Season">
                        <figcaption class="figure-caption"><small>2018-19 Regular Season</small></figcaption>
                </figure>
                <br>
                <p> 
                        According to the Elo Rating System, the Houston Rockets had the best performance,
                        closely followed by the Portland Trail Blazers and the Milwaukee Bucks. 
                        <br><br>
                        Milwaukee should not be a surprise - MVP Giannis Antetokounmpo lead the Bucks to finish 1st overall in terms of
                        win-loss, finishing the regular season 60-22.
                        <br><br>
                        Conversely, our Elo Rating System values the Rockets and the Trail Blazers greater than a 
                        simple win-loss record might suggest, both those teams finished 53-29 (Tied for 5th overall).
                </p>
                <p> 
                    Let's look at the results including the playoffs:
                </p>
                <br>
                <figure class="figure">
                        <img src="https://sjellard.github.io/ELO-NBA/images/bothseason_bar.PNG" class="figure-img img-fluid rounded" alt="2018-19 Full Season (Regular Season and Playoffs)">
                        <figcaption class="figure-caption"><small>2018-19 Full Season (Regular Season and Playoffs)</small></figcaption>
                </figure>
                <br><br>
                <p> 
                        After the full season the Toronto Raptors 
                        were rated as having the best performance. They did win the 2019 NBA Championship, 
                        so this makes sense. 
                        <br><br>
                        An interesting aspect of this result is how large the Raptors' rating difference 
                        is from the regular season to the playoffs (1627 to 1743, a <b>116  point increase</b>). 
                        The Golden State Warriors and Philadephia 76ers also had significant performance rating jumps,
                        69 and 44 points respectively. 
                </p>
                <br>
                <figure class="figure">
                        <img class="table" src="https://sjellard.github.io/ELO-NBA/data_folder/elo_ratings/elo_ratings.PNG" class="figure-img img-fluid rounded" alt="2018-19 Full Season Elo Table">
                        <figcaption class="figure-caption"><small>2018-19 Full Season Elo Table</small></figcaption>
                </figure>

            </div>
        </div>
    </div>
</div>

<div class='container'>
    <div class='card-deck'>
        <div class='col-md-10 mx-auto mb-5'>

            <div class='card-body'>
                <h2>How does it work?</h2>     
                <br>   
                <p> The first component of the algorithm is the comparison between two teams in a single game.
                    The expected win probability is calculated based on the team's ratings. 
                </p>
                <p>
                    In a match between two evenly rated teams, each will have a win probability of 0.5 (they are expected to win half of the time). 
                    The expected win probabilities are then compared to the real outcome of the game and both teams ratings are then updated accordingly.
                </p>
                <br>
                <figure class="figure">
                    <img src="https://sjellard.github.io/ELO-NBA/images/one_game.PNG" class="figure-img img-fluid rounded" alt="...">
                    <figcaption class="figure-caption"><small></small></figcaption>
                </figure>
                <br><br>
                <p>
                    The winning team wins points from the losing team and the amount won is deduced from the difference 
                    in performance ratings. 
                </p>
                <br><br>

                <table class="table">
                    <thead class='thead-light'>
                      <tr>
                        <th scope="col"></th>
                        <th scope="col">Team A Rating (Winner)</th>
                        <th scope="col">Team B Rating (Loser)</th>
                        <th scope="col">Points won/lost</th>
                        <th scope="col">Updated Ratings</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row"></th>
                        <td>1500</td>
                        <td>1500</td>
                        <td>+16</td>
                        <td>A: 1516 and B: 1484</td>
                      </tr>
                      <tr>
                        <th scope="row"></th>
                        <td>1590</td>
                        <td>1500</td>
                        <td>+12</td>
                        <td>A: 1602 and B: 1488</td>
                      </tr>
                      <tr>
                        <th scope="row"></th>
                        <td>1690</td>
                        <td>1500</td>
                        <td>+8</td>
                        <td>A: 1698 and B: 1492</td>
                      </tr>
                    </tbody>
                  </table>

                <br>
                <p> Next, we iterate this function over an entire season of games. To do this we 
                    lookup the information from each game and pass the information 
                    to the first function, call the function, and then increase the count by one. Our count moves us to the next game, 
                    finishing when we have counted through the entire season.
                </p>
                <br>
                <figure class="figure">
                        <img src="https://sjellard.github.io/ELO-NBA/images/loop_games.PNG" class="figure-img img-fluid rounded" alt="...">
                        <figcaption class="figure-caption"><small></small></figcaption>
                </figure>
                <br><br>
                <p> Running these functions will give us the Elo performance rating of all 30 teams after the entire season. 
                    Each team starts at 1500 which should represent an average team relative to the pool. 
                    Upper echelon teams end up being rated 1600 and above whereas mediocre teams generally 
                    have performance ratings 1400 and below.
                </p>
                <br>
                <h5>Main technologies used:</h5>
                <ul>
                    <li>Python, Pandas</li>
                    <li>Jupyter Notebook</li>
                </ul>
                <h5>Other technologies used:</h5>
                <ul>
                    <li>Plot.ly</li>
                </ul>
                <h5>Planned updates:</h5>
                <ul>
                    <li>Implement homecourt advantage
                    <li>Decrease autocorrelation (Lower K Value)
                </ul>
                <br>
                <p> 2018-19 NBA schedule and game results sourced from <a href='https://www.basketball-reference.com/leagues/' target='_blank'>basketball-reference.com</a>.
                </p>
                <br>
                <div class = "bottom">
                    <a href="https://github.com/SJEllard/ELO-NBA/blob/master/ELO-NBA-jupyter.ipynb" target="_blank">
                        <button type="button" class="btn btn-dark bottom-btn">
                            View Code!
                        </button>
                    </a>
                </div>
            </div>

        </div>
    </div>
</div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
